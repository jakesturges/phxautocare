<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 minimum-scale=1">

    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <!-- google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter&family=Poppins:wght@100..900&display=swap" rel="stylesheet">

    <!-- stylesheet  -->
    <link rel="stylesheet" href="style.css">

    <!-- font awesome -->
    <script src="https://kit.fontawesome.com/83dfa25033.js" crossorigin="anonymous"></script>

    <!-- jquery -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <script src="script.js" defer></script>

    <title>Phx Auto Care</title>
</head>
<body>
    <header class="primary-header flex fixed-top">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
              <a class="navbar-brand" href="#">
                <img src="images/IMG_0537.png" alt="" class="navbar-image">
              </a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav ms-auto">
                  <a class="nav-link active" aria-current="page" href="#">Home</a>
                  <a class="nav-link" href="#services">Services</a>
                  <a class="nav-link" href="#contact">Book Now</a>
                </div>
              </div>
            </div>
          </nav>
    </header>
    <div class="hero-container">
        <div class="hero-image"></div>
        <div class="hero-text">
            <h1 class="uppercase mb-4">Washing & <br>Detailing <br>Cars</h1>
            <h3>At <span class="uppercase company-name"><em>Phx Auto Care</em></span> we bring out the best in your vehicle by ensuring it shines with showroom quality and protection</h3>
            <button class="btn btn-lg btn-light mt-4">
                <span class="uppercase">Explore Our Services</span>
                <i class="bi bi-arrow-right"></i>
            </button>
        </div>
    </div>

    <div class="service-wrapper">
        <div class="container justify-content-center">
            <div class="row justify-content-center">
                 <div class="col-12 text-center">
                     <h2 class="head-text uppercase">Services</h2>
                 </div>
                 <div class="col-lg-4 col-md-6 col-sm-9 col-10 mb-4" id="services">
                     <div class="service-box">
                         <span><img class="img-fluid" src="images/interior.png" alt=""></span>
                         <h2>Interior Package -<span class="dollar-sign">$120</span></h2>
                         <ul>
                            <li>Trim/Panel Surface Cleaning</li>
                            <li>Full Decontamination</li>
                            <li>Steam Treatment</li>
                            <li>In Depth Vacuum/Extraction</li>
                            <li>Leather/Suede Conditioning</li>
                            <li>Door Jams</li>
                            <li>Streakfree Windows</li>
                            <li>Air Freshener</li>
                         </ul>
                     </div>
                 </div>
                 <div class="col-lg-4 col-md-6 col-sm-9 col-10 mb-4">
                     <div class="service-box">
                         <span><img class="img-fluid" src="images/exterior.png" alt=""></span>
                         <h2>Exterior Package -<span class="dollar-sign">$40</span></h2>
                         <ul>
                            <li>Pre Rinse</li>
                            <li>Bug Remover</li>
                            <li>Full Two Step Wash</li>
                            <li>Deep Wheel/Tire Cleaning</li>
                            <li>Rinse and Dry</li>
                            <li>Wax and Seal</li>
                            <li>Plastic Restorer</li>
                            <li>Tire Dressing</li>
                         </ul>
                     </div>
                 </div>
                 <div class="col-lg-4 col-md-6 col-sm-9 col-10 mb-4">
                     <div class="service-box">
                         <span><img class="img-fluid" src="images/full-package.png" alt=""></span>
                         <h2>Full Package <br>-<span class="dollar-sign">$140</span></h2>
                         <ul>
                            <li>Both Interior And Exterior Package</li>
                            <li>Paint Correction/Enhancment</li>
                            <li>Engine Bay Detail</li>
                            <li>Showroom Finish</li>
                         </ul>
                     </div>
                 </div>
            </div>
        </div>
    </div>
    <section id="reviews" class="mb-5">
        <h2>Reviews</h2>
        <iframe src='https://widgets.sociablekit.com/google-reviews/iframe/25425431' frameborder='0' width='80%' height='1000'></iframe>
    </section>


    <section id="contact">
        <div class="container-lg">
            <div class="text-center form-head">
                <h2 class="uppercase">Book Now</h2>
                <p class="lead">Fill out the form below to contact me directly or book a time...</p>
                <p class="sub-text">Call <span>(480)-376-6367</span> for a free quote today!</p>
            </div>

            <div class="row justify-content-center my-5">
                <div class="col-lg-6">
                    <form action="/" method="post">
                        <label for="fullname" class="form-label">Full Name <span class="required">*</span></label>
                        <div class="mb-4 input-group">
                            <span class="input-group-text">
                                <i class="bi bi-person-fill"></i>
                            </span>
                            <input type="text" class="form-control" id="fullname" placeholder="e.g. John Doe" name="fullName" required>
                        </div>

                        <label for="email" class="form-label">Email <span class="required">*</span></label>
                        <div class="mb-4 input-group">
                            <span class="input-group-text">
                                <i class="bi bi-envelope-fill"></i>
                            </span>
                            <input type="email" class="form-control" id="email" placeholder="e.g. johndoe@gmail.com" name="email" required>
                        </div>


                        <label for="phone" class="form-label">Phone Number <span class="required">*</span></label>
                        <div class="mb-4 input-group">
                            <span class="input-group-text">
                                <i class="bi bi-telephone-fill"></i>
                            </span>
                            <input type="number" class="form-control" id="phone" placeholder="e.g. 123-456-7890" name="number" required>
                        </div>

                        <label for="car" class="form-label">Vehicle <span class="required">*</span></label>
                        <div class="mb-4 input-group">
                            <span class="input-group-text">
                                <i class="bi bi-car-front-fill"></i>
                            </span>
                            <input type="text" class="form-control" id="car" placeholder="e.g. toyota prius" name="car" required>
                        </div>

                        <label for="package" class="form-label">Pick a Package <span class="required">*</span></label>
                        <select class="form-select mb-4" name="package" id="package">
                            <option value="" selected></option>
                            <option value="interior">Interior Package</option>
                            <option value="exterior">Exterior Package</option>
                            <option value="full">Full Package</option>
                        </select>
                        
                        <label for="date" class="form-label">Choose A Day <span class="required">*</span></label>
                            <input type="text" name="date" id="date" class="form-control mb-4">
    
                            <label for="timeSlot" class="form-label">Choose A Time <span class="required">*</span></label>
                            <select name="timeSlot" id="timeSlot" class="form-select mb-5">
                                <option value=""></option>
                            </select>


                        <div class="form-floating mb-4">
                            <textarea id="comments" class="form-control" style="height: 140px;"></textarea>
                            <label for="comments" name="comments">Comments</label>
                        </div>

                        <div class="mb-4 text-center">
                            <button type="submit" class="btn btn-lg btn-light uppercase">Submit</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- booking confirmation message -->
    <div id="booking-confirmation" class="alert alert-success" style="display: none;">
        <p>Appointment booked successfully!</p>
    </div>

    <footer>
        <div class="logo-container container">
            <a href="https://www.instagram.com/phxautocare/">
                <i class="bi bi-instagram"></i>
            </a>
            <a href="tel:+14803766367">
                <i class="bi bi-telephone-fill"></i>
            </a>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
<!-- datepicker -->
<script>
    $(function() {
         // Check if the status parameter is present in the URL
        const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('status') === 'success') {
                $('#booking-confirmation').show();
            }

        $("#date").datepicker({
            beforeShowDay: function(date) {
                var day = date.getDay();
                // Enable only Thursday (4), Friday (5), Saturday (6), and Sunday (0)
                return [(day == 4 || day == 5 || day == 6 || day == 0)];
            },
            onSelect: function(dateText) {
                var selectedDate = new Date(dateText);
                var day = selectedDate.getDay();
                var timeSlotSelect = $('#timeSlot');
                timeSlotSelect.empty(); // Clear previous options

                $.get('/unavailable-times', { date: dateText }, function(unavailableTimes) {
                    if (day === 4) {
                        var option = new Option('3:00 PM', '15:00');
                        if (unavailableTimes.includes('15:00')) {
                            option.disabled = true;
                        }
                        timeSlotSelect.append(option);
                    } else if (day === 5 || day === 6 || day === 0) {
                        var times = ['07:00', '10:00', '14:00'];
                        var labels = ['7:00 AM', '10:00 AM', '2:00 PM'];
                        for (var i = 0; i < times.length; i++) {
                            var option = new Option(labels[i], times[i]);
                            if (unavailableTimes.includes(times[i])) {
                                option.disabled = true;
                            }
                            timeSlotSelect.append(option);
                        }
                    }
                });
            }
        });
    });
</script>
</html>
